(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6049:function(e,i,r){Promise.resolve().then(r.bind(r,4368))},4368:function(e,i,r){"use strict";r.r(i),r.d(i,{default:function(){return O}});var n=r(7437),t=r(2265),o=r(1193),a=r(8433),s=r(511),l=r(9966),d=r(3652),c=r(8027),u=r(172),m=r(2326),p=r(7526),h=r(6548),g=r(270),x=r(4696),v=r(9381),y=r(4245),j=r(7744),f=r(7109),D=r(3277),C=r(4463),b=r(1286),F=r(7944),Z=r(8305),P=r(6648),S={src:"/_next/static/media/departamento-isometrico.d52b3d87.svg",height:450,width:590,blurWidth:0,blurHeight:0},_=r(2184),z=r(8498),k=r(9164),A=r(9875),R=r(7905),M=r(9143),L=r(8235),T=r(1650);let w=[{name:"MXN",flag:"\uD83C\uDDF2\uD83C\uDDFD"},{name:"USD",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{name:"EUR",flag:"\uD83C\uDDEA\uD83C\uDDFA"},{name:"CAD",flag:"\uD83C\uDDE8\uD83C\uDDE6"},{name:"JPY",flag:"\uD83C\uDDEF\uD83C\uDDF5"},{name:"GBP",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{name:"AUD",flag:"\uD83C\uDDE6\uD83C\uDDFA"},{name:"CHF",flag:"\uD83C\uDDE8\uD83C\uDDED"},{name:"BRL",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{name:"CNY",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{name:"CLP",flag:"\uD83C\uDDE8\uD83C\uDDF1"},{name:"ARS",flag:"\uD83C\uDDE6\uD83C\uDDF7"},{name:"COP",flag:"\uD83C\uDDE8\uD83C\uDDF4"},{name:"KRW",flag:"\uD83C\uDDF0\uD83C\uDDF7"},{name:"INR",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{name:"RUB",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{name:"VES",flag:"\uD83C\uDDFB\uD83C\uDDEA"}];var B=e=>{let{price:i}=e,[r,a]=(0,t.useState)("MXN"),[l,d]=(0,t.useState)(i),{t:c}=(0,T.$)();(0,t.useEffect)(()=>{if("MXN"===r){d(i);return}(async()=>{try{let e=await fetch("https://v6.exchangerate-api.com/v6/".concat("ec87121ebc46590a45ef42c5","/pair/MXN/").concat(r,"/").concat(i),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}),n=await e.json();d(n.conversion_result)}catch(e){console.error("Error fetching currency data:",e),alert(c("predictionForm.currencyConverter.requestError"))}})()},[r,i]);let m=(.06*Number(l)/12).toLocaleString(void 0,{style:"currency",currency:r,currencyDisplay:"narrowSymbol"})+" "+r,h=(.04*Number(l)/12).toLocaleString(void 0,{style:"currency",currency:r,currencyDisplay:"narrowSymbol"})+" "+r;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(s.Z,{variant:"h6",align:"center",children:[c("predictionForm.currencyConverter.sellingPrice"),":"," ",l.toLocaleString(void 0,{style:"currency",currency:r,currencyDisplay:"narrowSymbol"})," ",r]}),(0,n.jsxs)(o.Z,{display:"flex",alignItems:"center",justifyContent:"space-around",children:[(0,n.jsxs)(s.Z,{variant:"body2",align:"center",children:[c("predictionForm.currencyConverter.rentalPrice"),":"," "]}),(0,n.jsx)(o.Z,{display:"flex",flexDirection:"column",children:(0,n.jsxs)(_.Z,{dense:!0,children:[(0,n.jsxs)(z.ZP,{disablePadding:!0,children:[(0,n.jsx)(k.Z,{children:(0,n.jsx)(A.Z,{children:(0,n.jsx)(L.Z,{})})}),(0,n.jsx)(R.Z,{primary:(0,n.jsxs)(t.Fragment,{children:[m,(0,n.jsxs)(s.Z,{variant:"caption",component:"span",children:[" ","/ ",c("predictionForm.currencyConverter.month")]})]}),secondary:c("predictionForm.currencyConverter.annual",{percentage:6})})]}),(0,n.jsxs)(z.ZP,{disablePadding:!0,children:[(0,n.jsx)(k.Z,{children:(0,n.jsx)(A.Z,{children:(0,n.jsx)(M.Z,{})})}),(0,n.jsx)(R.Z,{primary:(0,n.jsxs)(t.Fragment,{children:[h,(0,n.jsxs)(s.Z,{variant:"caption",component:"span",children:[" ","/ ",c("predictionForm.currencyConverter.month")]})]}),secondary:c("predictionForm.currencyConverter.annual",{percentage:4})})]})]})})]}),(0,n.jsx)(u.Z,{select:!0,label:c("predictionForm.currencyConverter.selectCurrency"),value:r,onChange:e=>{a(e.target.value)},fullWidth:!0,variant:"outlined",size:"small",children:w.map(e=>(0,n.jsxs)(p.Z,{value:e.name,children:[e.flag," ",e.name]},e.name))})]})};let E=["places"],q=["\xc1lvaro Obreg\xf3n","Azcapotzalco","Benito Ju\xe1rez","Coyoac\xe1n","Cuajimalpa de Morelos","Cuauht\xe9moc","Gustavo A. Madero","Iztacalco","Iztapalapa","Magdalena Contreras","Miguel Hidalgo","Milpa Alta","Tl\xe1huac","Tlalpan","Venustiano Carranza","Xochimilco"];function I(){var e,i,r;let{t:l}=(0,T.$)(),d=y.Ry({Size_Terrain:y.Rx().required(l("predictionForm.validations.sizeTerrainRequired")).min(10,l("predictionForm.validations.sizeTerrainMin",{min:10})).max(1e3,l("predictionForm.validations.sizeTerrainMax",{max:1e3})),Size_Construction:y.Rx().required(l("predictionForm.validations.sizeConstructionRequired")).min(10,l("predictionForm.validations.sizeConstructionMin",{min:10})).max(1e3,l("predictionForm.validations.sizeConstructionMax",{max:1e3})),Rooms:y.Rx().required(l("predictionForm.validations.roomsRequired")).integer().min(0,l("predictionForm.validations.roomsMin",{min:0})).max(10,l("predictionForm.validations.roomsMax",{max:10})),Bathrooms:y.Rx().required(l("predictionForm.validations.bathroomsRequired")).min(1,l("predictionForm.validations.bathroomsMin",{min:1})).max(10,l("predictionForm.validations.bathroomsMax",{max:10})).test("is-half",l("predictionForm.validations.bathroomsHalf"),e=>!e||e%.5==0),Parking:y.Rx().required(l("predictionForm.validations.parkingRequired")).integer().min(0,l("predictionForm.validations.parkingMin",{min:0})).max(5,l("predictionForm.validations.parkingMax",{max:5})),Age:y.Rx().required(l("predictionForm.validations.ageRequired")).integer().min(0,l("predictionForm.validations.ageMin",{min:0})).max(100,l("predictionForm.validations.ageMax",{max:100})),Lat:y.Rx().required(l("predictionForm.validations.latRequired")).min(19.1,l("predictionForm.validations.outOfBounds")).max(19.7,l("predictionForm.validations.outOfBounds")),Lng:y.Rx().required(l("predictionForm.validations.lngRequired")).min(-99.4,l("predictionForm.validations.outOfBounds")).max(-98.9,l("predictionForm.validations.outOfBounds")),Municipality:y.Z_().required(l("predictionForm.validations.municipalityRequired")).oneOf(q,l("predictionForm.validations.municipalityInvalid"))}),{isLoaded:_}=(0,j.Ji)({id:"skyprice-front",googleMapsApiKey:"AIzaSyAzQpWUr902B2j3dPOyRXtx65j0SApoFm0",libraries:E,region:"MX",language:"es"}),[z,k]=(0,t.useState)(null),[A,R]=(0,t.useState)(""),[M,L]=(0,t.useState)(null),[w,I]=(0,t.useState)({address:"",Size_Terrain:0,Size_Construction:0,Rooms:0,Bathrooms:0,Parking:0,Age:0,Lat:0,Lng:0,Municipality:"",fecha:new Date}),N=(0,v.TA)({initialValues:{Size_Terrain:void 0,Size_Construction:void 0,Rooms:void 0,Bathrooms:void 0,Parking:void 0,Age:void 0,Lat:void 0,Lng:void 0,Municipality:void 0},validationSchema:d,onSubmit:async e=>{try{let i=await fetch("".concat("https://api.skyprice.xyz","/predict"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await i.json();k(r),I({address:A,...e,fecha:new Date})}catch(e){alert(l("predictionForm.errorPrediction")),console.error(e)}}}),O=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s/g,"_"),W=(e,i)=>{let r=q.map(e=>O(e));for(let i=0;i<e.length;i++){let n=e[i],t=n.types;if(t.includes("political")||t.includes("sublocality")||t.includes("locality")){let e=O(n.long_name),i=r.find(i=>e.includes(i));if(i)return q[r.indexOf(i)]}}let n=i.split(",");for(let e=0;e<n.length;e++){let i=O(n[e]),t=r.find(e=>i.includes(e));if(t)return q[r.indexOf(t)]}return null};return _?(0,n.jsxs)(c.Z,{elevation:6,sx:{margin:2,padding:3},children:[(0,n.jsxs)(s.Z,{variant:"h5",align:"center",gutterBottom:!0,children:[(0,n.jsx)("strong",{children:"SkyPrice"}),", ",l("predictionForm.title")]}),(0,n.jsxs)("form",{onSubmit:N.handleSubmit,children:[(0,n.jsxs)(a.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,n.jsx)(a.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.F2,{onLoad:e=>{L(e)},onPlaceChanged:()=>{if(null!==M){var e,i,r,n;let t=M.getPlace();if(!t){console.warn("No se pudo obtener la informaci\xf3n del lugar");return}let o=null==t?void 0:null===(i=t.geometry)||void 0===i?void 0:null===(e=i.location)||void 0===e?void 0:e.lat(),a=null==t?void 0:null===(n=t.geometry)||void 0===n?void 0:null===(r=n.location)||void 0===r?void 0:r.lng(),s=W(t.address_components,t.formatted_address);N.setFieldValue("Lat",o),N.setFieldValue("Lng",a),N.setFieldValue("Municipality",s),R(t.formatted_address)}else console.log("Autocomplete a\xfan no est\xe1 cargado")},bounds:{east:-98.9,west:-99.4,north:19.7,south:19.1},options:{componentRestrictions:{country:"MX"},strictBounds:!0},children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,id:"address",name:"address",label:l("predictionForm.addressLabel"),placeholder:l("predictionForm.addressPlaceholder"),value:A,onChange:e=>R(e.target.value),margin:"normal",error:N.touched.Lat&&!!N.errors.Lat,helperText:N.touched.Lat&&N.errors.Lat,InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:(0,n.jsx)(Z.Z,{})})}})})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Size_Terrain",name:"Size_Terrain",label:l("predictionForm.sizeTerrainLabel"),value:N.values.Size_Terrain,onChange:N.handleChange,error:N.touched.Size_Terrain&&!!N.errors.Size_Terrain,helperText:N.touched.Size_Terrain&&N.errors.Size_Terrain,margin:"normal",inputProps:{step:1,min:10,max:1e3},InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:"m\xb2"})}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Size_Construction",name:"Size_Construction",label:l("predictionForm.sizeConstructionLabel"),value:N.values.Size_Construction,onChange:N.handleChange,error:N.touched.Size_Construction&&!!N.errors.Size_Construction,helperText:N.touched.Size_Construction&&N.errors.Size_Construction,margin:"normal",inputProps:{step:1,min:10,max:1e3},InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:"m\xb2"})}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Rooms",name:"Rooms",label:l("predictionForm.roomsLabel"),value:N.values.Rooms,onChange:N.handleChange,error:N.touched.Rooms&&!!N.errors.Rooms,helperText:N.touched.Rooms&&N.errors.Rooms,margin:"normal",inputProps:{step:1,min:0,max:10},InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:(0,n.jsx)(D.Z,{})})}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Bathrooms",name:"Bathrooms",label:l("predictionForm.bathroomsLabel"),value:N.values.Bathrooms,onChange:N.handleChange,error:N.touched.Bathrooms&&!!N.errors.Bathrooms,helperText:N.touched.Bathrooms&&N.errors.Bathrooms,margin:"normal",inputProps:{step:.5,min:1,max:10},InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:(0,n.jsx)(C.Z,{})})}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Parking",name:"Parking",label:l("predictionForm.parkingLabel"),value:N.values.Parking,onChange:N.handleChange,error:N.touched.Parking&&!!N.errors.Parking,helperText:N.touched.Parking&&N.errors.Parking,margin:"normal",inputProps:{step:1,min:0,max:10},InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:(0,n.jsx)(b.Z,{})})}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Age",name:"Age",label:l("predictionForm.ageLabel"),value:N.values.Age,onChange:N.handleChange,error:N.touched.Age&&!!N.errors.Age,helperText:N.touched.Age&&N.errors.Age,margin:"normal",inputProps:{step:1,min:0,max:100},InputProps:{endAdornment:(0,n.jsx)(m.Z,{position:"end",children:(0,n.jsx)(F.Z,{})})}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsxs)(u.Z,{select:!0,fullWidth:!0,required:!0,label:l("predictionForm.municipalityLabel"),id:"Municipality",name:"Municipality",value:(null===(e=N.values)||void 0===e?void 0:e.Municipality)||"",onChange:N.handleChange,error:N.touched.Municipality&&!!N.errors.Municipality,margin:"normal",helperText:N.touched.Municipality&&N.errors.Municipality,children:[(0,n.jsx)(p.Z,{value:"",disabled:!0,children:l("predictionForm.municipalityPlaceholder")},""),q.map(e=>(0,n.jsx)(p.Z,{value:e,children:e},e))]})}),N.values.Municipality&&q.includes(N.values.Municipality)&&(null===(i=N.values)||void 0===i?void 0:i.Lat)&&(null===(r=N.values)||void 0===r?void 0:r.Lng)?(0,n.jsx)(a.ZP,{item:!0,xs:12,children:(0,n.jsx)(j.b6,{mapContainerStyle:{width:"100%",height:"300px"},center:{lat:Number(N.values.Lat),lng:Number(N.values.Lng)},zoom:15,children:(0,n.jsx)(j.Jx,{title:"Ubicaci\xf3n de la Propiedad",position:{lat:Number(N.values.Lat),lng:Number(N.values.Lng)},animation:google.maps.Animation.BOUNCE,icon:{path:google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,scale:10,fillColor:"red",fillOpacity:.8,strokeColor:"black",strokeWeight:3}})})}):(0,n.jsx)(a.ZP,{item:!0,xs:12,children:(0,n.jsx)(s.Z,{variant:"body2",align:"center",children:l("predictionForm.mapInfo")})})]}),(0,n.jsxs)(h.Z,{color:"primary",size:"large",variant:"contained",fullWidth:!0,type:"submit",disabled:N.isSubmitting,sx:{mt:3,fontWeight:700},children:[N.isSubmitting&&l("predictionForm.submitting"),N.isValid&&!N.isSubmitting&&l("predictionForm.submit"),!N.isValid&&N.dirty&&l("predictionForm.submitInvalid")]})]}),z&&(0,n.jsxs)(t.Fragment,{children:[(0,n.jsx)("hr",{}),(0,n.jsx)(o.Z,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,mt:4,children:(0,n.jsx)(s.Z,{variant:"h5",align:"center",gutterBottom:!0,children:l("predictionForm.predictions.title")})}),(0,n.jsxs)(o.Z,{mt:2,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:5,alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(o.Z,{sx:{display:"flex",flex:1,height:200,width:200,margin:"auto",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(P.default,{src:S,alt:"Departamento Isom\xe9trico",width:200,height:200})}),(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",flex:2,px:{xs:2,sm:5},py:{xs:1,sm:2},gap:2},children:[(0,n.jsx)(s.Z,{variant:"body2",align:"center",gutterBottom:!0,children:(0,n.jsx)("strong",{children:l("predictionForm.predictions.subtitle",{address:w.address})})}),(0,n.jsx)(s.Z,{variant:"body2",align:"justify",sx:{wordBreak:"break-word",hyphens:"auto"},gutterBottom:!0,dangerouslySetInnerHTML:{__html:l("predictionForm.predictions.details",{sizeTerrain:w.Size_Terrain,sizeConstruction:w.Size_Construction,rooms:w.Rooms,bathrooms:w.Bathrooms,parking:w.Parking,age:w.Age,municipality:w.Municipality})}}),(0,n.jsx)(s.Z,{variant:"body2",sx:{wordBreak:"break-word",hyphens:"auto"},align:"justify",children:l("predictionForm.predictions.algorithmsSummary",{algorithmsCount:Object.keys(z).length,svm:l("common.svm"),rf:l("common.randomForest"),nn:l("common.neuralNetwork")})}),(0,n.jsx)(s.Z,{variant:"caption",align:"center",children:l("predictionForm.predictions.generatedAt",{date:w.fecha.toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}),time:w.fecha.toLocaleTimeString()})})]})]}),(0,n.jsxs)(o.Z,{mt:4,children:[(0,n.jsx)(a.ZP,{container:!0,spacing:3,justifyContent:"center",children:Object.entries(z).map(e=>{let[i,r]=e;return(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,n.jsxs)(g.Z,{sx:{textAlign:"center"},elevation:1,children:[(0,n.jsx)(x.Z,{children:(0,n.jsx)(B,{price:Number(r)})}),(0,n.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:2},children:(0,n.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:l("predictionForm.predictions.results.title",{algorithm:"svm"===i?l("common.svm"):"random_forest"===i?l("common.randomForest"):l("common.neuralNetwork")})})})]})},i)})}),(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"row",mt:4,p:2,borderRadius:1,border:1},children:[(0,n.jsx)(f.Z,{color:"primary",sx:{fontSize:30,mr:2}}),(0,n.jsx)(s.Z,{variant:"caption",color:"text.secondary",align:"justify",sx:{wordBreak:"break-word",hyphens:"auto"},dangerouslySetInnerHTML:{__html:l("predictionForm.disclaimer")}})]})]})]})]}):(0,n.jsxs)(c.Z,{elevation:6,sx:{margin:2,padding:3},children:[(0,n.jsxs)(s.Z,{variant:"h5",align:"center",gutterBottom:!0,children:[(0,n.jsx)("strong",{children:"SkyPrice"}),", ",l("predictionForm.title")]}),(0,n.jsxs)(s.Z,{variant:"body2",color:"gray",align:"center",children:[(0,n.jsx)("strong",{children:"SkyPrice"})," ",l("predictionForm.loading")]})]})}var N=r(7138);function O(){let{t:e}=(0,T.$)();return(0,n.jsxs)(o.Z,{sx:{minHeight:"100vh",backgroundImage:"url(".concat("/_next/static/media/skyline-cdmx-2.24e99be4.jpeg",")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)(a.ZP,{container:!0,justifyContent:"center",alignItems:"center",style:{minHeight:"80vh"},children:(0,n.jsx)(a.ZP,{item:!0,xs:12,md:8,children:(0,n.jsx)(I,{})})}),(0,n.jsxs)(s.Z,{variant:"caption",textAlign:"center",sx:{bgcolor:"rgba(0, 0, 0, 0.5)",color:"white",p:1},children:[e("predictionForm.caption1")," ",(0,n.jsx)(N.default,{href:"https://unsplash.com/es/@alexistostado?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash",rel:"noopener noreferrer",target:"_blank",style:{color:"white",textDecoration:"underline"},passHref:!0,children:"Alexis Tostado"})," ",e("predictionForm.caption2")," ",(0,n.jsx)(N.default,{href:"https://unsplash.com/es/fotos/foto-aerea-de-edificios-de-hormigon-bajo-nubes-blancas-durante-el-dia-3TBuSLluZ8w?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash",rel:"noopener noreferrer",target:"_blank",style:{color:"white",textDecoration:"underline"},passHref:!0,children:"Unsplash"})]}),(0,n.jsx)(l.Z,{})]})}}},function(e){e.O(0,[910,959,26,248,242,971,23,744],function(){return e(e.s=6049)}),_N_E=e.O()}]);