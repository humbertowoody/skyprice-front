(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3899:function(e,r,n){Promise.resolve().then(n.bind(n,3158))},3158:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var i=n(7437),t=n(2265),a=n(4272),o=n(2508),s=n(9835),l=n(8722),d=n(8218),c=n(859),u=n(179),m=n(4111),p=n(938),h=n(6285),g=n(5195),x=n(5996),y=n(8693),D=n(1991),j=n(2020),f=n(3333),b=n(285),C=n(8357),v=n(9003),Z=n(5889),F=n(9826),S=n(703),P={src:"/_next/static/media/departamento-isometrico.d52b3d87.svg",height:450,width:590,blurWidth:0,blurHeight:0},_=n(144),L=n(3995),A=n(5276),k=n(8031),E=n(8433),z=n(8505),T=n(9324),w=n(528);let R=[{name:"MXN",flag:"\uD83C\uDDF2\uD83C\uDDFD"},{name:"USD",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{name:"EUR",flag:"\uD83C\uDDEA\uD83C\uDDFA"},{name:"CAD",flag:"\uD83C\uDDE8\uD83C\uDDE6"},{name:"JPY",flag:"\uD83C\uDDEF\uD83C\uDDF5"},{name:"GBP",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{name:"AUD",flag:"\uD83C\uDDE6\uD83C\uDDFA"},{name:"CHF",flag:"\uD83C\uDDE8\uD83C\uDDED"},{name:"BRL",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{name:"CNY",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{name:"CLP",flag:"\uD83C\uDDE8\uD83C\uDDF1"},{name:"ARS",flag:"\uD83C\uDDE6\uD83C\uDDF7"},{name:"COP",flag:"\uD83C\uDDE8\uD83C\uDDF4"},{name:"KRW",flag:"\uD83C\uDDF0\uD83C\uDDF7"},{name:"INR",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{name:"RUB",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{name:"VES",flag:"\uD83C\uDDFB\uD83C\uDDEA"}];var M=e=>{let{price:r}=e,[n,o]=(0,t.useState)("MXN"),[l,d]=(0,t.useState)(r),{t:c}=(0,w.useTranslation)();(0,t.useEffect)(()=>{if("MXN"===n){d(r);return}(async()=>{try{let e=await fetch("https://v6.exchangerate-api.com/v6/".concat("ec87121ebc46590a45ef42c5","/pair/MXN/").concat(n,"/").concat(r),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}),i=await e.json();d(i.conversion_result)}catch(e){console.error("Error fetching currency data:",e),alert(c("predictionForm.currencyConverter.requestError"))}})()},[n,r]);let m=(.06*Number(l)/12).toLocaleString(void 0,{style:"currency",currency:n,currencyDisplay:"narrowSymbol"})+" "+n,h=(.04*Number(l)/12).toLocaleString(void 0,{style:"currency",currency:n,currencyDisplay:"narrowSymbol"})+" "+n;return(0,i.jsxs)("div",{children:[(0,i.jsxs)(s.Z,{variant:"h6",align:"center",children:[c("predictionForm.currencyConverter.sellingPrice"),":"," ",l.toLocaleString(void 0,{style:"currency",currency:n,currencyDisplay:"narrowSymbol"})," ",n]}),(0,i.jsxs)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-around",children:[(0,i.jsxs)(s.Z,{variant:"body2",align:"center",children:[c("predictionForm.currencyConverter.rentalPrice"),":"," "]}),(0,i.jsx)(a.Z,{display:"flex",flexDirection:"column",children:(0,i.jsxs)(_.Z,{dense:!0,children:[(0,i.jsxs)(L.ZP,{disablePadding:!0,children:[(0,i.jsx)(A.Z,{children:(0,i.jsx)(k.Z,{children:(0,i.jsx)(T.Z,{})})}),(0,i.jsx)(E.Z,{primary:(0,i.jsxs)(t.Fragment,{children:[m,(0,i.jsxs)(s.Z,{variant:"caption",component:"span",children:[" ","/ ",c("predictionForm.currencyConverter.month")]})]}),secondary:c("predictionForm.currencyConverter.annual",{percentage:6})})]}),(0,i.jsxs)(L.ZP,{disablePadding:!0,children:[(0,i.jsx)(A.Z,{children:(0,i.jsx)(k.Z,{children:(0,i.jsx)(z.Z,{})})}),(0,i.jsx)(E.Z,{primary:(0,i.jsxs)(t.Fragment,{children:[h,(0,i.jsxs)(s.Z,{variant:"caption",component:"span",children:[" ","/ ",c("predictionForm.currencyConverter.month")]})]}),secondary:c("predictionForm.currencyConverter.annual",{percentage:4})})]})]})})]}),(0,i.jsx)(u.Z,{select:!0,label:c("predictionForm.currencyConverter.selectCurrency"),value:n,onChange:e=>{o(e.target.value)},fullWidth:!0,variant:"outlined",size:"small",children:R.map(e=>(0,i.jsxs)(p.Z,{value:e.name,children:[e.flag," ",e.name]},e.name))})]})};let B=["places"],q=["\xc1lvaro Obreg\xf3n","Azcapotzalco","Benito Ju\xe1rez","Coyoac\xe1n","Cuajimalpa de Morelos","Cuauht\xe9moc","Gustavo A. Madero","Iztacalco","Iztapalapa","Magdalena Contreras","Miguel Hidalgo","Milpa Alta","Tl\xe1huac","Tlalpan","Venustiano Carranza","Xochimilco"],I=D.Ry({Size_Terrain:D.Rx().required("El tama\xf1o del terreno es requerido").min(10,"El tama\xf1o del terreno debe ser mayor o igual a 10"),Size_Construction:D.Rx().required("El tama\xf1o de la construcci\xf3n es requerido").min(10,"El tama\xf1o de la construcci\xf3n debe ser mayor o igual a 10"),Rooms:D.Rx().required("El n\xfamero de habitaciones es requerido").integer().min(0,"El n\xfamero de habitaciones debe ser mayor o igual a 0").max(10,"El n\xfamero de habitaciones debe ser menor o igual a 10"),Bathrooms:D.Rx().required("El n\xfamero de ba\xf1os es requerido").min(1,"El n\xfamero de ba\xf1os debe ser mayor o igual a 1").max(10,"El n\xfamero de ba\xf1os debe ser menor o igual a 10").test("is-half","El n\xfamero de ba\xf1os debe ser un n\xfamero entero o en pasos de 0.5",e=>!e||e%.5==0),Parking:D.Rx().required("El n\xfamero de espacios de estacionamiento es requerido").integer().min(0,"El n\xfamero de espacios de estacionamiento debe ser mayor o igual a 0").max(5,"El n\xfamero de espacios de estacionamiento debe ser menor o igual a 5"),Age:D.Rx().required("La edad de la propiedad es requerida").integer().min(0,"La edad de la propiedad debe ser mayor o igual a 0").max(100,"La edad de la propiedad debe ser menor o igual a 100"),Lat:D.Rx().required("La direcci\xf3n es requerida").min(19.1,"La direcci\xf3n debe encontrarse dentro de la CDMX").max(19.7,"La direcci\xf3n debe encontrarse dentro de la CDMX"),Lng:D.Rx().required("La direcci\xf3n es requerida").min(-99.4,"La direcci\xf3n debe encontrarse dentro de la CDMX").max(-98.9,"La direcci\xf3n debe encontrarse dentro de la CDMX"),Municipality:D.Z_().required("La alcald\xeda es requerida").oneOf(q,"La alcald\xeda no es v\xe1lida")});function N(){var e,r,n;let{t:l}=(0,w.useTranslation)(),{isLoaded:d}=(0,j.Ji)({id:"skyprice-front",googleMapsApiKey:"AIzaSyAzQpWUr902B2j3dPOyRXtx65j0SApoFm0",libraries:B,region:"MX",language:"es"}),[D,_]=(0,t.useState)(null),[L,A]=(0,t.useState)(""),[k,E]=(0,t.useState)(null),[z,T]=(0,t.useState)({address:"",Size_Terrain:0,Size_Construction:0,Rooms:0,Bathrooms:0,Parking:0,Age:0,Lat:0,Lng:0,Municipality:"",fecha:new Date}),R=(0,y.TA)({initialValues:{Size_Terrain:void 0,Size_Construction:void 0,Rooms:void 0,Bathrooms:void 0,Parking:void 0,Age:void 0,Lat:void 0,Lng:void 0,Municipality:void 0},validationSchema:I,onSubmit:async e=>{try{let r=await fetch("".concat("https://api.skyprice.xyz","/predict"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await r.json();_(n),T({address:L,...e,fecha:new Date})}catch(e){alert("Ocurri\xf3 un error al estimar el precio de la propiedad, intente de nuevo m\xe1s tarde."),console.error(e)}}}),N=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s/g,"_"),W=(e,r)=>{let n=q.map(e=>N(e));for(let r=0;r<e.length;r++){let i=e[r],t=i.types;if(t.includes("political")||t.includes("sublocality")||t.includes("locality")){let e=N(i.long_name),r=n.find(r=>e.includes(r));if(r)return q[n.indexOf(r)]}}let i=r.split(",");for(let e=0;e<i.length;e++){let r=N(i[e]),t=n.find(e=>r.includes(e));if(t)return q[n.indexOf(t)]}return null};return d?(0,i.jsxs)(c.Z,{elevation:6,sx:{margin:2,padding:3},children:[(0,i.jsxs)(s.Z,{variant:"h5",align:"center",gutterBottom:!0,children:[(0,i.jsx)("strong",{children:"SkyPrice"}),", ",l("predictionForm.title")]}),(0,i.jsxs)("form",{onSubmit:R.handleSubmit,children:[(0,i.jsxs)(o.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,i.jsx)(o.ZP,{item:!0,xs:12,children:(0,i.jsx)(j.F2,{onLoad:e=>{E(e)},onPlaceChanged:()=>{if(null!==k){var e,r,n,i;let t=k.getPlace();if(!t){console.warn("No se pudo obtener la informaci\xf3n del lugar");return}let a=null==t?void 0:null===(r=t.geometry)||void 0===r?void 0:null===(e=r.location)||void 0===e?void 0:e.lat(),o=null==t?void 0:null===(i=t.geometry)||void 0===i?void 0:null===(n=i.location)||void 0===n?void 0:n.lng(),s=W(t.address_components,t.formatted_address);R.setFieldValue("Lat",a),R.setFieldValue("Lng",o),R.setFieldValue("Municipality",s),A(t.formatted_address)}else console.log("Autocomplete a\xfan no est\xe1 cargado")},bounds:{east:-98.9,west:-99.4,north:19.7,south:19.1},options:{componentRestrictions:{country:"MX"},strictBounds:!0},children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,id:"address",name:"address",label:l("predictionForm.addressLabel"),value:L,onChange:e=>A(e.target.value),margin:"normal",error:R.touched.Lat&&!!R.errors.Lat,helperText:R.touched.Lat&&R.errors.Lat,InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(F.Z,{})})}})})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Size_Terrain",name:"Size_Terrain",label:l("predictionForm.sizeTerrainLabel"),value:R.values.Size_Terrain,onChange:R.handleChange,error:R.touched.Size_Terrain&&!!R.errors.Size_Terrain,helperText:R.touched.Size_Terrain&&R.errors.Size_Terrain,margin:"normal",inputProps:{step:1,min:10,max:1e3},InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:"m\xb2"})}})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Size_Construction",name:"Size_Construction",label:l("predictionForm.sizeConstructionLabel"),value:R.values.Size_Construction,onChange:R.handleChange,error:R.touched.Size_Construction&&!!R.errors.Size_Construction,helperText:R.touched.Size_Construction&&R.errors.Size_Construction,margin:"normal",inputProps:{step:1,min:10,max:1e3},InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:"m\xb2"})}})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Rooms",name:"Rooms",label:l("predictionForm.roomsLabel"),value:R.values.Rooms,onChange:R.handleChange,error:R.touched.Rooms&&!!R.errors.Rooms,helperText:R.touched.Rooms&&R.errors.Rooms,margin:"normal",inputProps:{step:1,min:0,max:10},InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(b.Z,{})})}})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Bathrooms",name:"Bathrooms",label:l("predictionForm.bathroomsLabel"),value:R.values.Bathrooms,onChange:R.handleChange,error:R.touched.Bathrooms&&!!R.errors.Bathrooms,helperText:R.touched.Bathrooms&&R.errors.Bathrooms,margin:"normal",inputProps:{step:.5,min:1,max:10},InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(C.Z,{})})}})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Parking",name:"Parking",label:l("predictionForm.parkingLabel"),value:R.values.Parking,onChange:R.handleChange,error:R.touched.Parking&&!!R.errors.Parking,helperText:R.touched.Parking&&R.errors.Parking,margin:"normal",inputProps:{step:1,min:0,max:10},InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(v.Z,{})})}})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsx)(u.Z,{fullWidth:!0,required:!0,type:"number",id:"Age",name:"Age",label:l("predictionForm.ageLabel"),value:R.values.Age,onChange:R.handleChange,error:R.touched.Age&&!!R.errors.Age,helperText:R.touched.Age&&R.errors.Age,margin:"normal",inputProps:{step:1,min:0,max:100},InputProps:{endAdornment:(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(Z.Z,{})})}})}),(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,i.jsxs)(u.Z,{select:!0,fullWidth:!0,required:!0,label:l("predictionForm.municipalityLabel"),id:"Municipality",name:"Municipality",value:(null===(e=R.values)||void 0===e?void 0:e.Municipality)||"",onChange:R.handleChange,error:R.touched.Municipality&&!!R.errors.Municipality,margin:"normal",helperText:R.touched.Municipality&&R.errors.Municipality,children:[(0,i.jsx)(p.Z,{value:"",disabled:!0,children:l("predictionForm.municipalityPlaceholder")},""),q.map(e=>(0,i.jsx)(p.Z,{value:e,children:e},e))]})}),R.values.Municipality&&q.includes(R.values.Municipality)&&(null===(r=R.values)||void 0===r?void 0:r.Lat)&&(null===(n=R.values)||void 0===n?void 0:n.Lng)?(0,i.jsx)(o.ZP,{item:!0,xs:12,children:(0,i.jsx)(j.b6,{mapContainerStyle:{width:"100%",height:"300px"},center:{lat:Number(R.values.Lat),lng:Number(R.values.Lng)},zoom:15,children:(0,i.jsx)(j.Jx,{title:"Ubicaci\xf3n de la Propiedad",position:{lat:Number(R.values.Lat),lng:Number(R.values.Lng)},animation:google.maps.Animation.BOUNCE,icon:{path:google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,scale:10,fillColor:"red",fillOpacity:.8,strokeColor:"black",strokeWeight:3}})})}):(0,i.jsx)(o.ZP,{item:!0,xs:12,children:(0,i.jsx)(s.Z,{variant:"body2",align:"center",children:l("predictionForm.mapInfo")})})]}),(0,i.jsxs)(h.Z,{color:"primary",size:"large",variant:"contained",fullWidth:!0,type:"submit",disabled:R.isSubmitting,sx:{mt:3,fontWeight:700},children:[R.isSubmitting&&l("predictionForm.submitting"),R.isValid&&!R.isSubmitting&&l("predictionForm.submit"),!R.isValid&&R.dirty&&l("predictionForm.submitInvalid")]})]}),D&&(0,i.jsxs)(t.Fragment,{children:[(0,i.jsx)("hr",{}),(0,i.jsx)(a.Z,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,mt:4,children:(0,i.jsx)(s.Z,{variant:"h5",align:"center",gutterBottom:!0,children:l("predictionForm.predictions.title")})}),(0,i.jsxs)(a.Z,{mt:2,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:5,alignItems:"center",justifyContent:"center"},children:[(0,i.jsx)(a.Z,{sx:{display:"flex",flex:1,height:200,width:200,margin:"auto",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(S.default,{src:P,alt:"Departamento Isom\xe9trico",width:200,height:200})}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",flex:2,px:{xs:2,sm:5},py:{xs:1,sm:2},gap:2},children:[(0,i.jsx)(s.Z,{variant:"body2",align:"center",gutterBottom:!0,children:(0,i.jsx)("strong",{children:l("predictionForm.predictions.subtitle",{address:z.address})})}),(0,i.jsx)(s.Z,{variant:"body2",align:"justify",sx:{wordBreak:"break-word",hyphens:"auto"},gutterBottom:!0,dangerouslySetInnerHTML:{__html:l("predictionForm.predictions.details",{sizeTerrain:z.Size_Terrain,sizeConstruction:z.Size_Construction,rooms:z.Rooms,bathrooms:z.Bathrooms,parking:z.Parking,age:z.Age,municipality:z.Municipality})}}),(0,i.jsx)(s.Z,{variant:"body2",sx:{wordBreak:"break-word",hyphens:"auto"},align:"justify",children:l("predictionForm.predictions.algorithmsSummary",{algorithmsCount:Object.keys(D).length,svm:l("common.svm"),rf:l("common.randomForest"),nn:l("common.neuralNetwork")})}),(0,i.jsx)(s.Z,{variant:"caption",align:"center",children:l("predictionForm.predictions.generatedAt",{date:z.fecha.toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}),time:z.fecha.toLocaleTimeString()})})]})]}),(0,i.jsxs)(a.Z,{mt:4,children:[(0,i.jsx)(o.ZP,{container:!0,spacing:3,justifyContent:"center",children:Object.entries(D).map(e=>{let[r,n]=e;return(0,i.jsx)(o.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,i.jsxs)(g.Z,{sx:{textAlign:"center"},elevation:1,children:[(0,i.jsx)(x.Z,{children:(0,i.jsx)(M,{price:Number(n)})}),(0,i.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:2},children:(0,i.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:l("predictionForm.predictions.results.title",{algorithm:"svm"===r?l("common.svm"):"random_forest"===r?l("common.randomForest"):l("common.neuralNetwork")})})})]})},r)})}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"row",mt:4,p:2,borderRadius:1,border:1},children:[(0,i.jsx)(f.Z,{color:"primary",sx:{fontSize:30,mr:2}}),(0,i.jsx)(s.Z,{variant:"caption",color:"text.secondary",align:"justify",sx:{wordBreak:"break-word",hyphens:"auto"},dangerouslySetInnerHTML:{__html:l("predictionForm.disclaimer")}})]})]})]})]}):(0,i.jsxs)(c.Z,{elevation:6,sx:{margin:2,padding:3},children:[(0,i.jsxs)(s.Z,{variant:"h5",align:"center",gutterBottom:!0,children:[(0,i.jsx)("strong",{children:"SkyPrice"}),", ",l("predictionForm.title")]}),(0,i.jsxs)(s.Z,{variant:"body2",color:"gray",align:"center",children:[(0,i.jsx)("strong",{children:"SkyPrice"})," ",l("predictionForm.loading")]})]})}var W=n(8792);function O(){let{t:e}=(0,w.useTranslation)();return(0,i.jsxs)(a.Z,{sx:{minHeight:"100vh",backgroundImage:"url(".concat("/_next/static/media/skyline-cdmx-2.24e99be4.jpeg",")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,i.jsx)(d.Z,{}),(0,i.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",style:{minHeight:"80vh"},children:(0,i.jsx)(o.ZP,{item:!0,xs:12,md:8,children:(0,i.jsx)(N,{})})}),(0,i.jsxs)(s.Z,{variant:"caption",textAlign:"center",sx:{bgcolor:"rgba(0, 0, 0, 0.5)",color:"white",p:1},children:[e("predictionForm.caption1")," ",(0,i.jsx)(W.default,{href:"https://unsplash.com/es/@alexistostado?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash",rel:"noopener noreferrer",target:"_blank",style:{color:"white",textDecoration:"underline"},passHref:!0,children:"Alexis Tostado"})," ",e("predictionForm.caption2")," ",(0,i.jsx)(W.default,{href:"https://unsplash.com/es/fotos/foto-aerea-de-edificios-de-hormigon-bajo-nubes-blancas-durante-el-dia-3TBuSLluZ8w?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash",rel:"noopener noreferrer",target:"_blank",style:{color:"white",textDecoration:"underline"},passHref:!0,children:"Unsplash"})]}),(0,i.jsx)(l.Z,{})]})}}},function(e){e.O(0,[910,364,445,611,670,971,69,744],function(){return e(e.s=3899)}),_N_E=e.O()}]);